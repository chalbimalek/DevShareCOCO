<div class="breadcrumbs">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 col-md-6 col-12">
          <div class="breadcrumbs-content">
            <h1 class="page-title">Profile Settings</h1>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-12">
          <ul class="breadcrumb-nav">
            <li><a href="index.html">Home</a></li>
            <li>Profile Settings</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <!-- End Breadcrumbs -->
  
  <!-- Start Dashboard Section -->
  <section class="dashboard section">
    <div class="container">
      <div class="row">
        <div class="col-lg-3 col-md-4 col-12">
          <!-- Start Dashboard Sidebar -->
          <div class="dashboard-sidebar">
            <div class="user-image">
              <img src="assets/images/dashboard/user-image.jpg" alt="#" />
              <h3>
                Steve Aldridge
                <span><a href="javascript:void(0)">@username</a></span>
              </h3>
            </div>
            
            <!-- Bouton ou lien pour représenter l'icône de notification -->
         
            <div class="dashboard-menu">
              <ul>
                <li>
                  <a href="dashboard.html"
                    ><i class="lni lni-dashboard"></i> Dashboard</a
                  >
                </li>
                <li>
                  <a class="active" href="profile-settings.html"
                    ><i class="lni lni-pencil-alt"></i> Edit Profile</a
                  >
                </li>
                <li>
                  <a href="my-items.html"
                    ><i class="lni lni-bolt-alt"></i> My Ads</a
                  >
                </li>
                <li>
                  <a href="favourite-items.html"
                    ><i class="lni lni-heart"></i> Favourite ads</a
                  >
                </li>
                <li>
                  <a href="post-item.html"
                    ><i class="lni lni-circle-plus"></i> Post An Ad</a
                  >
                </li>
                <li>
                  <a href="bookmarked-items.html"
                    ><i class="lni lni-bookmark"></i> Bookmarked</a
                  >
                </li>
                <li>
                  <a href="messages.html"
                    ><i class="lni lni-envelope"></i> Messages</a
                  >
                </li>
                <li>
                  <a href="delete-account.html"
                    ><i class="lni lni-trash"></i> Close account</a
                  >
                </li>
                <li>
                  <a href="invoice.html"
                    ><i class="lni lni-printer"></i> Invoice</a
                  >
                </li>
              </ul>
              <div class="button">
                <a class="btn" href="javascript:void(0)" (click)="logout()"
                  >Logout</a
                >
              </div>
            </div>
          </div>
          <!-- Start Dashboard Sidebar -->
          <div>
            <i class="material-icons yellow-icon">star</i>
            <h3>Your Points :{{ totalCarpoolings }}</h3>
          </div>
          
        </div>
      
        
        <div class="col-lg-9 col-md-8 col-12">
          <div class="main-content">
            <!-- Start Profile Settings Area -->
            <div class="dashboard-block mt-0 profile-settings-block">
              <h3 class="block-title">Profile Settings</h3>
                  <!-- notificationss -->
                  <button (click)="toggleNotifications1()" class="notification-icon">
                    <!-- Utilisez une classe pour définir la taille et la couleur de l'icône -->
                    <i class="fas fa-bell notification-icon-inner"></i>
        <!-- Affichez le nombre total de notifications avec un badge -->
        <span class="notification-badge">{{ notifications.length }}</span>
      </button>
      
      <!-- Affichage des notifications (s'affiche si showNotifications est vrai) -->
      <div *ngIf="showNotifications">
                  <div *ngFor="let notification of notifications">
                    <div class="notification-item">
                      <!-- Icône de notification -->
                      <i class="fas fa-bell notification-icon"></i>
                      <div *ngIf="notification.userDestiner.username === loggedInUser">
                        <h5>De :</h5>
                        <h4>{{ notification.userEnvoyer.username }}</h4>
                        <p>{{ notification.message }}</p>
                        <p>{{ notification.timestamp }}</p> 
                        <h5>Envoyée à :</h5>
                        <h4>{{ notification.userDestiner.username }}</h4>
                        <hr>                       
                        <div *ngIf="!notification.acceptee && !notification.refusee ">
                          <!-- Boutons pour accepter ou refuser le covoiturage -->
                          <button (click)="accepterCovoiturage(notification.carpooling.idCarpolling, notification.userEnvoyer.id)" type="button" class="btn btn-success">Accepter le covoiturage</button>
                          <button (click)="refuserCovoiturage(notification.carpooling.idCarpolling, notification.userEnvoyer.id)" type="button" class="btn btn-danger">Refuser le covoiturage</button>
                        </div>
                      </div>
                      <div *ngIf="notification.acceptee && !notification.refusee">
                        <!-- Bouton pour annuler l'acceptation du covoiturage -->
                        <button (click)="annulerAcceptationCovoiturage(notification.carpooling.idCarpolling, notification.userDestiner.id)" type="button" class="btn btn-success">Annuler le covoiturage</button>
                      </div>
                    </div>
                  </div>
                    <hr>
                    
                </div>
              <div class="inner-block">
                <div class="image">
                  <img src="assets/images/dashboard/user-image.jpg" alt="#" />
                </div>
                <form class="profile-setting-form" method="post" action="#">
                  <div class="row">
                    <div class="col-lg-6 col-12">
                      <div class="form-group">
                        <label>First Name*</label>
                        <input
                          name="first-name"
                          type="text"
                          placeholder="Steve"
                        />
                      </div>
                    </div>
                    <div class="col-lg-6 col-12">
                      <div class="form-group">
                        <label>Last Name*</label>
                        <input
                          name="last-name"
                          type="text"
                          placeholder="Aldridge"
                        />
                      </div>
                    </div>
                    <div class="col-lg-6 col-12">
                      <div class="form-group">
                        <label>Username*</label>
                        <input
                          name="usernames"
                          type="text"
                          placeholder="@username"
                        />
                      </div>
                    </div>
                    <div class="col-lg-6 col-12">
                      <div class="form-group">
                        <label>Email Address*</label>
                        <input
                          name="email"
                          type="email"
                          placeholder="username@gmail.com"
                        />
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="form-group upload-image">
                        <label>Profile Image*</label>
                        <input
                          name="profile-image"
                          type="file"
                          placeholder="Upload Image"
                        />
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="form-group message">
                        <label>About You*</label>
                        <textarea
                          name="message"
                          placeholder="Enter about yourself"
                        ></textarea>
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="form-group button mb-0">
                        <button type="submit" class="btn">Update Profile</button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
        
            <!-- End Profile Settings Area -->
            <!-- Start Password Change Area -->
            <div class="dashboard-block password-change-block">
              <h3 class="block-title">Change Password</h3>
              <div class="inner-block">
                <form class="default-form-style" method="post" action="#">
                  <div class="row">
                    <div class="col-12">
                      <div class="form-group">
                        <label>Current Password*</label>
                        <input
                          name="current-password"
                          type="password"
                          placeholder="Enter old password"
                        />
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="form-group">
                        <label>New Password*</label>
                        <input
                          name="new-password"
                          type="password"
                          placeholder="Enter new password"
                        />
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="form-group">
                        <label>Retype Password*</label>
                        <input
                          name="retype-password"
                          type="password"
                          placeholder="Retype password"
                        />
                      </div>
                    </div>
                    <div class="col-12">
                      <div class="form-group button mb-0">
                        <button type="submit" class="btn">Update Password</button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <!-- End Password Change Area -->
          </div>
        </div>
                

      </div>
    </div>
  </section>
  <!-- End Dashboard Section -->
  
  <!-- Start Newsletter Area -->
  <div class="newsletter section">
    <div class="container">
      <div class="inner-content">
        <div class="row align-items-center">
          <div class="col-lg-6 col-md-6 col-12">
            <div class="title">
              <i class="lni lni-alarm"></i>
              <h2>Newsletter</h2>
              <p>We don't send spam so don't worry.</p>
            </div>
          </div>
         
          <div class="col-lg-6 col-md-6 col-12">
            <div class="form">
              <form
                action="#"
                method="get"
                target="_blank"
                class="newsletter-form"
              >
                <input
                  name="EMAIL"
                  placeholder="Your email address"
                  type="email"
                />
                <div class="button">
                  <button class="btn">
                    Subscribe<span class="dir-part"></span>
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>